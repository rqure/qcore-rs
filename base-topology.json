{
  "schemas": [
    {
      "entityType": "Object",
      "inheritsFrom": [],
      "fields": [
        {
          "name": "Name",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "Parent",
          "dataType": "EntityReference",
          "default": null,
          "storageScope": "Configuration"
        },
        {
          "name": "Description",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "Children",
          "dataType": "EntityList",
          "default": [],
          "storageScope": "Configuration"
        },
        {
          "name": "Faceplates",
          "dataType": "EntityList",
          "default": [],
          "storageScope": "Configuration"
        }
      ]
    },
    {
      "entityType": "Root",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "CreatedEntity",
          "dataType": "String",
          "default": null
        },
        {
          "name": "DeletedEntity",
          "dataType": "String",
          "default": null
        },
        {
          "name": "SchemaChange",
          "dataType": "String",
          "default": null
        }
      ]
    },
    {
      "entityType": "Folder",
      "inheritsFrom": ["Object"],
      "fields": []
    },
    {
      "entityType": "Machine",
      "inheritsFrom": ["Object"],
      "fields": []
    },
    {
      "entityType": "Subject",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "Secret",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "AuthMethod",
          "dataType": "Choice",
          "default": "Native",
          "choices": ["Native", "LDAP", "OpenID Connect"],
          "storageScope": "Configuration"
        },
        {
          "name": "Active",
          "dataType": "Bool",
          "default": true,
          "storageScope": "Configuration"
        },
        {
          "name": "FailedAttempts",
          "dataType": "Int",
          "default": 0
        },
        {
          "name": "LockedUntil",
          "dataType": "Timestamp",
          "default": 0
        },
        {
          "name": "LastLogin",
          "dataType": "Timestamp",
          "default": 0
        }
      ]
    },
    {
      "entityType": "Candidate",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "Heartbeat",
          "dataType": "Choice",
          "default": "Trigger",
          "choices": ["Trigger"]
        },
        {
          "name": "MakeMe",
          "dataType": "Choice",
          "default": "Unavailable",
          "choices": ["Unavailable", "Available"]
        },
        {
          "name": "DeathDetectionTimeout",
          "dataType": "Int",
          "default": 5000,
          "storageScope": "Configuration"
        }
      ]
    },
    {
      "entityType": "Service",
      "inheritsFrom": ["Candidate"],
      "fields": [
        {
          "name": "Status",
          "dataType": "Choice",
          "default": "Offline",
          "choices": ["Offline", "Online"]
        }
      ]
    },
    {
      "entityType": "User",
      "inheritsFrom": ["Subject"],
      "fields": []
    },
    {
      "entityType": "Permission",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "Scope",
          "dataType": "Choice",
          "default": "Read Only",
          "choices": ["Read Only", "Read and Write"],
          "storageScope": "Configuration"
        },
        {
          "name": "ResourceType",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "ResourceField",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "Condition",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        }
      ]
    },
    {
      "entityType": "Session",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "CurrentUser",
          "dataType": "EntityReference",
          "default": null
        },
        {
          "name": "PreviousUser",
          "dataType": "EntityReference",
          "default": null
        },
        {
          "name": "Token",
          "dataType": "String",
          "default": ""
        },
        {
          "name": "ExpiresAt",
          "dataType": "Timestamp",
          "default": 0
        },
        {
          "name": "CreatedAt",
          "dataType": "Timestamp",
          "default": 0
        }
      ]
    },
    {
      "entityType": "FaultTolerance",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "CandidateList",
          "dataType": "EntityList",
          "default": [],
          "storageScope": "Configuration"
        },
        {
          "name": "AvailableList",
          "dataType": "EntityList",
          "default": []
        },
        {
          "name": "CurrentLeader",
          "dataType": "EntityReference",
          "default": null
        },
        {
          "name": "FailOver",
          "dataType": "Choice",
          "default": "Trigger",
          "choices": ["Trigger"]
        },
        {
          "name": "FailOverGracePeriod",
          "dataType": "Int",
          "default": 1000,
          "storageScope": "Configuration"
        }
      ]
    },
    {
      "entityType": "PerfTestEntity",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "TestValue",
          "dataType": "Int",
          "default": 0
        },
        {
          "name": "TestString",
          "dataType": "String",
          "default": ""
        },
        {
          "name": "TestFlag",
          "dataType": "Bool",
          "default": false
        },
        {
          "name": "TestTimestamp",
          "dataType": "Timestamp",
          "default": 0
        }
      ]
    },
    {
      "entityType": "Faceplate",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "Configuration",
          "dataType": "String",
          "default": "{}",
          "storageScope": "Configuration"
        },
        {
          "name": "TargetEntityType",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "Bindings",
          "dataType": "String",
          "default": "[]",
          "storageScope": "Configuration"
        },
        {
          "name": "Components",
          "dataType": "EntityList",
          "default": [],
          "storageScope": "Configuration"
        },
        {
          "name": "NotificationChannels",
          "dataType": "String",
          "default": "[]",
          "storageScope": "Configuration"
        }
      ]
    },
    {
      "entityType": "FaceplateComponent",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "ComponentType",
          "dataType": "Choice",
          "default": "Custom",
          "choices": ["Gauge", "Indicator", "FormField", "Trend", "Custom"],
          "storageScope": "Configuration"
        },
        {
          "name": "Configuration",
          "dataType": "String",
          "default": "{}",
          "storageScope": "Configuration"
        },
        {
          "name": "Bindings",
          "dataType": "String",
          "default": "[]",
          "storageScope": "Configuration"
        },
        {
          "name": "AnimationRules",
          "dataType": "String",
          "default": "[]",
          "storageScope": "Configuration"
        }
      ]
    },
    {
      "entityType": "FaceplateBinding",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "Expression",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "TargetComponent",
          "dataType": "EntityReference",
          "default": null,
          "storageScope": "Configuration"
        },
        {
          "name": "TargetProperty",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "ValueTransform",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "SubscriptionConfig",
          "dataType": "String",
          "default": "[]",
          "storageScope": "Configuration"
        }
      ]
    }
  ],
  "tree": {
    "entityType": "Root",
    "Name": "QOS",
    "Children": [
      {
        "entityType": "Machine",
        "Name": "qos-a",
        "Children": [
          {
            "entityType": "Service",
            "Name": "qcore"
          },
          {
            "entityType": "Service",
            "Name": "qweb",
            "Children": [
              {"entityType": "Session", "Name": "Session-1"},
              {"entityType": "Session", "Name": "Session-2"},
              {"entityType": "Session", "Name": "Session-3"},
              {"entityType": "Session", "Name": "Session-4"}
            ]
          }
        ]
      },
      {
        "entityType": "Machine",
        "Name": "qos-b",
        "Children": [
          {
            "entityType": "Service",
            "Name": "qcore"
          },
          {
            "entityType": "Service",
            "Name": "qweb",
            "Children": [
              {"entityType": "Session", "Name": "Session-1"},
              {"entityType": "Session", "Name": "Session-2"},
              {"entityType": "Session", "Name": "Session-3"},
              {"entityType": "Session", "Name": "Session-4"}
            ]
          }
        ]
      },
      {
        "entityType": "Machine",
        "Name": "qos-c",
        "Children": [
          {
            "entityType": "Service",
            "Name": "qcore"
          },
          {
            "entityType": "Service",
            "Name": "qweb",
            "Children": [
              {"entityType": "Session", "Name": "Session-1"},
              {"entityType": "Session", "Name": "Session-2"},
              {"entityType": "Session", "Name": "Session-3"},
              {"entityType": "Session", "Name": "Session-4"}
            ]
          }
        ]
      },
      {
        "entityType": "FaultTolerance",
        "Name": "qcore",
        "CandidateList": ["QOS/qos-a/qcore", "QOS/qos-b/qcore", "QOS/qos-c/qcore"]
      },
      {
        "entityType": "Folder",
        "Name": "Security Models",
        "Children": [
          {
            "entityType": "User",
            "Name": "qei",
            "Secret": "__hashpw__(qei)",
            "Active": true
          }
        ]
      },
      {
        "entityType": "Folder",
        "Name": "Performance Testing",
        "Children": [
          {
            "entityType": "PerfTestEntity",
            "Name": "TestEntity",
            "TestValue": 0,
            "TestString": "Initial Test Value",
            "TestFlag": false,
            "Faceplates": [
              "QOS/Faceplate Builder/Faceplates/PerfTest Overview"
            ]
          }
        ]
      },
      {
        "entityType": "Folder",
        "Name": "Faceplate Builder",
        "Children": [
          {
            "entityType": "Folder",
            "Name": "Component Library",
            "Children": [
              {
                "entityType": "FaceplateComponent",
                "Name": "PerfTest Gauge",
                "ComponentType": "Gauge",
                "Configuration": "{\"type\":\"gauge\",\"min\":0,\"max\":100,\"title\":\"Perf Test Value\"}",
                "Bindings": "[{\"property\":\"value\",\"expression\":\"TestValue\"}]",
                "AnimationRules": "[{\"expression\":\"TestFlag\",\"animation\":\"pulse\"}]"
              },
              {
                "entityType": "FaceplateComponent",
                "Name": "Status Indicator",
                "ComponentType": "Indicator",
                "Configuration": "{\"type\":\"indicator\",\"label\":\"Flag\",\"trueLabel\":\"Active\",\"falseLabel\":\"Inactive\"}",
                "Bindings": "[{\"property\":\"status\",\"expression\":\"TestFlag\"}]",
                "AnimationRules": "[]"
              },
              {
                "entityType": "FaceplateComponent",
                "Name": "Hierarchy Label",
                "ComponentType": "FormField",
                "Configuration": "{\"type\":\"label\",\"label\":\"Hierarchy\"}",
                "Bindings": "[{\"property\":\"text\",\"expression\":\"Parent->Parent->Name\"}]",
                "AnimationRules": "[]"
              }
            ]
          },
          {
            "entityType": "Folder",
            "Name": "Bindings",
            "Children": [
              {
                "entityType": "FaceplateBinding",
                "Name": "PerfTest Value Binding",
                "Expression": "TestValue",
                "TargetComponent": "QOS/Faceplate Builder/Component Library/PerfTest Gauge",
                "TargetProperty": "value",
                "ValueTransform": "",
                "SubscriptionConfig": "[{\"fields\":[\"TestValue\"]}]"
              },
              {
                "entityType": "FaceplateBinding",
                "Name": "PerfTest Flag Binding",
                "Expression": "TestFlag",
                "TargetComponent": "QOS/Faceplate Builder/Component Library/Status Indicator",
                "TargetProperty": "status",
                "ValueTransform": "",
                "SubscriptionConfig": "[{\"fields\":[\"TestFlag\"]}]"
              },
              {
                "entityType": "FaceplateBinding",
                "Name": "Hierarchy Name Binding",
                "Expression": "Parent->Parent->Name",
                "TargetComponent": "QOS/Faceplate Builder/Component Library/Hierarchy Label",
                "TargetProperty": "text",
                "ValueTransform": "",
                "SubscriptionConfig": "[{\"fields\":[\"Parent\",\"Parent->Parent->Name\"]}]"
              }
            ]
          },
          {
            "entityType": "Folder",
            "Name": "Faceplates",
            "Children": [
              {
                "entityType": "Faceplate",
                "Name": "PerfTest Overview",
                "TargetEntityType": "PerfTestEntity",
                "Configuration": "{\"layout\":[{\"component\":\"PerfTest Gauge\",\"x\":0,\"y\":0},{\"component\":\"Status Indicator\",\"x\":1,\"y\":0},{\"component\":\"Hierarchy Label\",\"x\":0,\"y\":1}],\"bindings\":[{\"component\":\"PerfTest Gauge\",\"property\":\"value\",\"expression\":\"TestValue\"},{\"component\":\"Status Indicator\",\"property\":\"status\",\"expression\":\"TestFlag\"},{\"component\":\"Hierarchy Label\",\"property\":\"text\",\"expression\":\"Parent->Parent->Name\"}]}",
                "Bindings": "[{\"component\":\"PerfTest Gauge\",\"property\":\"value\",\"expression\":\"TestValue\"},{\"component\":\"Status Indicator\",\"property\":\"status\",\"expression\":\"TestFlag\"},{\"component\":\"Hierarchy Label\",\"property\":\"text\",\"expression\":\"Parent->Parent->Name\"}]",
                "Components": [
                  "QOS/Faceplate Builder/Component Library/PerfTest Gauge",
                  "QOS/Faceplate Builder/Component Library/Status Indicator",
                  "QOS/Faceplate Builder/Component Library/Hierarchy Label"
                ],
                "NotificationChannels": "[{\"fields\":[\"TestValue\",\"TestFlag\",\"Parent\",\"Parent->Parent->Name\"]}]"
              }
            ]
          }
        ]
      }
    ]
  }
}
