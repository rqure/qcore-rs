{
  "schemas": [
    {
      "entityType": "Object",
      "inheritsFrom": [],
      "fields": [
        {
          "name": "Name",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "Parent",
          "dataType": "EntityReference",
          "default": null,
          "storageScope": "Configuration"
        },
        {
          "name": "Description",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "Children",
          "dataType": "EntityList",
          "default": [],
          "storageScope": "Configuration"
        },
        {
          "name": "Faceplates",
          "dataType": "EntityList",
          "default": [],
          "storageScope": "Configuration"
        }
      ]
    },
    {
      "entityType": "Root",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "CreatedEntity",
          "dataType": "String",
          "default": null
        },
        {
          "name": "DeletedEntity",
          "dataType": "String",
          "default": null
        },
        {
          "name": "SchemaChange",
          "dataType": "String",
          "default": null
        }
      ]
    },
    {
      "entityType": "Folder",
      "inheritsFrom": ["Object"],
      "fields": []
    },
    {
      "entityType": "Machine",
      "inheritsFrom": ["Object"],
      "fields": []
    },
    {
      "entityType": "Subject",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "Secret",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "AuthMethod",
          "dataType": "Choice",
          "default": "Native",
          "choices": ["Native", "LDAP", "OpenID Connect"],
          "storageScope": "Configuration"
        },
        {
          "name": "Active",
          "dataType": "Bool",
          "default": true,
          "storageScope": "Configuration"
        },
        {
          "name": "FailedAttempts",
          "dataType": "Int",
          "default": 0
        },
        {
          "name": "LockedUntil",
          "dataType": "Timestamp",
          "default": 0
        },
        {
          "name": "LastLogin",
          "dataType": "Timestamp",
          "default": 0
        }
      ]
    },
    {
      "entityType": "Candidate",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "Heartbeat",
          "dataType": "Choice",
          "default": "Trigger",
          "choices": ["Trigger"]
        },
        {
          "name": "MakeMe",
          "dataType": "Choice",
          "default": "Unavailable",
          "choices": ["Unavailable", "Available"]
        },
        {
          "name": "DeathDetectionTimeout",
          "dataType": "Int",
          "default": 5000,
          "storageScope": "Configuration"
        }
      ]
    },
    {
      "entityType": "Service",
      "inheritsFrom": ["Candidate"],
      "fields": [
        {
          "name": "Status",
          "dataType": "Choice",
          "default": "Offline",
          "choices": ["Offline", "Online"]
        }
      ]
    },
    {
      "entityType": "User",
      "inheritsFrom": ["Subject"],
      "fields": []
    },
    {
      "entityType": "Permission",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "Scope",
          "dataType": "Choice",
          "default": "Read Only",
          "choices": ["Read Only", "Read and Write"],
          "storageScope": "Configuration"
        },
        {
          "name": "ResourceType",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "ResourceField",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "Condition",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        }
      ]
    },
    {
      "entityType": "Session",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "CurrentUser",
          "dataType": "EntityReference",
          "default": null
        },
        {
          "name": "PreviousUser",
          "dataType": "EntityReference",
          "default": null
        },
        {
          "name": "Token",
          "dataType": "String",
          "default": ""
        },
        {
          "name": "ExpiresAt",
          "dataType": "Timestamp",
          "default": 0
        },
        {
          "name": "CreatedAt",
          "dataType": "Timestamp",
          "default": 0
        }
      ]
    },
    {
      "entityType": "FaultTolerance",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "CandidateList",
          "dataType": "EntityList",
          "default": [],
          "storageScope": "Configuration"
        },
        {
          "name": "AvailableList",
          "dataType": "EntityList",
          "default": []
        },
        {
          "name": "CurrentLeader",
          "dataType": "EntityReference",
          "default": null
        },
        {
          "name": "FailOver",
          "dataType": "Choice",
          "default": "Trigger",
          "choices": ["Trigger"]
        },
        {
          "name": "FailOverGracePeriod",
          "dataType": "Int",
          "default": 1000,
          "storageScope": "Configuration"
        }
      ]
    },
    {
      "entityType": "PerfTestEntity",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "TestValue",
          "dataType": "Int",
          "default": 0
        },
        {
          "name": "TestString",
          "dataType": "String",
          "default": ""
        },
        {
          "name": "TestFlag",
          "dataType": "Bool",
          "default": false
        },
        {
          "name": "TestTimestamp",
          "dataType": "Timestamp",
          "default": 0
        }
      ]
    },
    {
      "entityType": "Faceplate",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "Configuration",
          "dataType": "String",
          "default": "{}",
          "storageScope": "Configuration"
        },
        {
          "name": "TargetEntityType",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "Bindings",
          "dataType": "String",
          "default": "[]",
          "storageScope": "Configuration"
        },
        {
          "name": "Components",
          "dataType": "EntityList",
          "default": [],
          "storageScope": "Configuration"
        },
        {
          "name": "NotificationChannels",
          "dataType": "String",
          "default": "[]",
          "storageScope": "Configuration"
        },
        {
          "name": "ScriptModules",
          "dataType": "String",
          "default": "[]",
          "storageScope": "Configuration"
        }
      ]
    },
    {
      "entityType": "FaceplateComponent",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "ComponentType",
          "dataType": "String",
          "default": "Custom",
          "storageScope": "Configuration"
        },
        {
          "name": "Primitive",
          "dataType": "EntityReference",
          "default": null,
          "storageScope": "Configuration"
        },
        {
          "name": "PropertySchema",
          "dataType": "String",
          "default": "[]",
          "storageScope": "Configuration"
        },
        {
          "name": "Configuration",
          "dataType": "String",
          "default": "{}",
          "storageScope": "Configuration"
        },
        {
          "name": "Bindings",
          "dataType": "String",
          "default": "[]",
          "storageScope": "Configuration"
        },
        {
          "name": "BehaviorScripts",
          "dataType": "String",
          "default": "[]",
          "storageScope": "Configuration"
        },
        {
          "name": "AnimationRules",
          "dataType": "String",
          "default": "[]",
          "storageScope": "Configuration"
        }
      ]
    },
    {
      "entityType": "FaceplatePrimitive",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "Category",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "MarkupTemplate",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "PropertySchema",
          "dataType": "String",
          "default": "[]",
          "storageScope": "Configuration"
        },
        {
          "name": "DefaultProps",
          "dataType": "String",
          "default": "{}",
          "storageScope": "Configuration"
        },
        {
          "name": "PreviewProps",
          "dataType": "String",
          "default": "{}",
          "storageScope": "Configuration"
        },
        {
          "name": "ScriptModules",
          "dataType": "String",
          "default": "[]",
          "storageScope": "Configuration"
        }
      ]
    },
    {
      "entityType": "FaceplateBinding",
      "inheritsFrom": ["Object"],
      "fields": [
        {
          "name": "Expression",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "TargetComponent",
          "dataType": "EntityReference",
          "default": null,
          "storageScope": "Configuration"
        },
        {
          "name": "TargetProperty",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "ValueTransform",
          "dataType": "String",
          "default": "",
          "storageScope": "Configuration"
        },
        {
          "name": "SubscriptionConfig",
          "dataType": "String",
          "default": "[]",
          "storageScope": "Configuration"
        }
      ]
    }
  ],
  "tree": {
    "entityType": "Root",
    "Name": "QOS",
    "Children": [
      {
        "entityType": "Machine",
        "Name": "qos-a",
        "Children": [
          {
            "entityType": "Service",
            "Name": "qcore"
          },
          {
            "entityType": "Service",
            "Name": "qweb",
            "Children": [
              {"entityType": "Session", "Name": "Session-1"},
              {"entityType": "Session", "Name": "Session-2"},
              {"entityType": "Session", "Name": "Session-3"},
              {"entityType": "Session", "Name": "Session-4"}
            ]
          }
        ]
      },
      {
        "entityType": "Machine",
        "Name": "qos-b",
        "Children": [
          {
            "entityType": "Service",
            "Name": "qcore"
          },
          {
            "entityType": "Service",
            "Name": "qweb",
            "Children": [
              {"entityType": "Session", "Name": "Session-1"},
              {"entityType": "Session", "Name": "Session-2"},
              {"entityType": "Session", "Name": "Session-3"},
              {"entityType": "Session", "Name": "Session-4"}
            ]
          }
        ]
      },
      {
        "entityType": "Machine",
        "Name": "qos-c",
        "Children": [
          {
            "entityType": "Service",
            "Name": "qcore"
          },
          {
            "entityType": "Service",
            "Name": "qweb",
            "Children": [
              {"entityType": "Session", "Name": "Session-1"},
              {"entityType": "Session", "Name": "Session-2"},
              {"entityType": "Session", "Name": "Session-3"},
              {"entityType": "Session", "Name": "Session-4"}
            ]
          }
        ]
      },
      {
        "entityType": "FaultTolerance",
        "Name": "qcore",
        "CandidateList": ["QOS/qos-a/qcore", "QOS/qos-b/qcore", "QOS/qos-c/qcore"]
      },
      {
        "entityType": "Folder",
        "Name": "Security Models",
        "Children": [
          {
            "entityType": "User",
            "Name": "qei",
            "Secret": "__hashpw__(qei)",
            "Active": true
          }
        ]
      },
      {
        "entityType": "Folder",
        "Name": "Performance Testing",
        "Children": [
          {
            "entityType": "PerfTestEntity",
            "Name": "TestEntity",
            "TestValue": 0,
            "TestString": "Initial Test Value",
            "TestFlag": false,
            "Faceplates": [
              "QOS/Faceplate Builder/Faceplates/PerfTest Overview"
            ]
          }
        ]
      },
      {
        "entityType": "Folder",
        "Name": "Faceplate Builder",
        "Children": [
          {
            "entityType": "Folder",
            "Name": "Primitives",
            "Children": [
              {
                "entityType": "FaceplatePrimitive",
                "Name": "Standard Gauge",
                "Category": "Gauge",
                  "MarkupTemplate": "<div class=\"primitive-gauge\"><svg class=\"dial\" viewBox=\"0 0 100 50\"><path d=\"M5 50 A45 45 0 0 1 95 50\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"6\"/></svg><div class=\"readout\"><slot /></div></div>",
                "PropertySchema": "[{\\\"name\\\":\\\"value\\\",\\\"type\\\":\\\"number\\\",\\\"default\\\":0},{\\\"name\\\":\\\"min\\\",\\\"type\\\":\\\"number\\\",\\\"default\\\":0},{\\\"name\\\":\\\"max\\\",\\\"type\\\":\\\"number\\\",\\\"default\\\":100},{\\\"name\\\":\\\"unit\\\",\\\"type\\\":\\\"string\\\",\\\"default\\\":\\\"\\\"}]",
                "DefaultProps": "{\\\"value\\\":0,\\\"min\\\":0,\\\"max\\\":100,\\\"unit\\\":\\\"\\\"}",
                "PreviewProps": "{\\\"value\\\":58,\\\"min\\\":0,\\\"max\\\":100,\\\"unit\\\":\\\"%\\\"}",
                "ScriptModules": "[]"
              },
              {
                "entityType": "FaceplatePrimitive",
                "Name": "Status Pill",
                "Category": "Indicator",
            "MarkupTemplate": "<div class=\"primitive-status\" data-state=\"{state}\"><span class=\"status-label\"><slot /></span></div>",
                "PropertySchema": "[{\\\"name\\\":\\\"state\\\",\\\"type\\\":\\\"boolean\\\",\\\"default\\\":true},{\\\"name\\\":\\\"trueLabel\\\",\\\"type\\\":\\\"string\\\",\\\"default\\\":\\\"Online\\\"},{\\\"name\\\":\\\"falseLabel\\\",\\\"type\\\":\\\"string\\\",\\\"default\\\":\\\"Offline\\\"}]",
                "DefaultProps": "{\\\"state\\\":true,\\\"trueLabel\\\":\\\"Online\\\",\\\"falseLabel\\\":\\\"Offline\\\"}",
                "PreviewProps": "{\\\"state\\\":true,\\\"trueLabel\\\":\\\"Active\\\",\\\"falseLabel\\\":\\\"Inactive\\\"}",
                "ScriptModules": "[]"
              },
              {
                "entityType": "FaceplatePrimitive",
                "Name": "Static Label",
                "Category": "Label",
                  "MarkupTemplate": "<div class=\"primitive-label\"><span class=\"label-text\"><slot /></span></div>",
                "PropertySchema": "[{\\\"name\\\":\\\"text\\\",\\\"type\\\":\\\"string\\\",\\\"default\\\":\\\"Label\\\"}]",
                "DefaultProps": "{\\\"text\\\":\\\"Label\\\"}",
                "PreviewProps": "{\\\"text\\\":\\\"Hierarchy: QOS\\\"}",
                "ScriptModules": "[]"
              }
            ]
          },
          {
            "entityType": "Folder",
            "Name": "Component Library",
            "Children": [
              {
                "entityType": "FaceplateComponent",
                "Name": "PerfTest Gauge",
                "ComponentType": "Gauge",
                "Primitive": "QOS/Faceplate Builder/Primitives/Standard Gauge",
                "PropertySchema": "[{\\\"name\\\":\\\"label\\\",\\\"type\\\":\\\"string\\\",\\\"default\\\":\\\"Perf Test Value\\\"},{\\\"name\\\":\\\"precision\\\",\\\"type\\\":\\\"number\\\",\\\"default\\\":1},{\\\"name\\\":\\\"unit\\\",\\\"type\\\":\\\"string\\\",\\\"default\\\":\\\"%\\\"}]",
                "Configuration": "{\"props\":{\"label\":\"Perf Test Value\",\"precision\":1,\"unit\":\"%\"}}",
                "Bindings": "[{\"property\":\"value\",\"expression\":\"TestValue\"}]",
                "BehaviorScripts": "[]",
                "AnimationRules": "[{\"expression\":\"TestFlag\",\"animation\":\"pulse\"}]"
              },
              {
                "entityType": "FaceplateComponent",
                "Name": "Status Indicator",
                "ComponentType": "Indicator",
                "Primitive": "QOS/Faceplate Builder/Primitives/Status Pill",
                "PropertySchema": "[{\\\"name\\\":\\\"label\\\",\\\"type\\\":\\\"string\\\",\\\"default\\\":\\\"Flag\\\"}]",
                "Configuration": "{\"props\":{\"label\":\"Flag\",\"trueLabel\":\"Active\",\"falseLabel\":\"Inactive\"}}",
                "Bindings": "[{\"property\":\"status\",\"expression\":\"TestFlag\"}]",
                "BehaviorScripts": "[]",
                "AnimationRules": "[]"
              },
              {
                "entityType": "FaceplateComponent",
                "Name": "Hierarchy Label",
                "ComponentType": "Label",
                "Primitive": "QOS/Faceplate Builder/Primitives/Static Label",
                "PropertySchema": "[{\\\"name\\\":\\\"label\\\",\\\"type\\\":\\\"string\\\",\\\"default\\\":\\\"Hierarchy\\\"}]",
                "Configuration": "{\"props\":{\"label\":\"Hierarchy\"}}",
                "Bindings": "[{\"property\":\"text\",\"expression\":\"Parent->Parent->Name\"}]",
                "BehaviorScripts": "[]",
                "AnimationRules": "[]"
              }
            ]
          },
          {
            "entityType": "Folder",
            "Name": "Bindings",
            "Children": [
              {
                "entityType": "FaceplateBinding",
                "Name": "PerfTest Value Binding",
                "Expression": "TestValue",
                "TargetComponent": "QOS/Faceplate Builder/Component Library/PerfTest Gauge",
                "TargetProperty": "value",
                "ValueTransform": "",
                "SubscriptionConfig": "[{\"fields\":[\"TestValue\"]}]"
              },
              {
                "entityType": "FaceplateBinding",
                "Name": "PerfTest Flag Binding",
                "Expression": "TestFlag",
                "TargetComponent": "QOS/Faceplate Builder/Component Library/Status Indicator",
                "TargetProperty": "status",
                "ValueTransform": "",
                "SubscriptionConfig": "[{\"fields\":[\"TestFlag\"]}]"
              },
              {
                "entityType": "FaceplateBinding",
                "Name": "Hierarchy Name Binding",
                "Expression": "Parent->Parent->Name",
                "TargetComponent": "QOS/Faceplate Builder/Component Library/Hierarchy Label",
                "TargetProperty": "text",
                "ValueTransform": "",
                "SubscriptionConfig": "[{\"fields\":[\"Parent\",\"Parent->Parent->Name\"]}]"
              }
            ]
          },
          {
            "entityType": "Folder",
            "Name": "Faceplates",
            "Children": [
              {
                "entityType": "Faceplate",
                "Name": "PerfTest Overview",
                "TargetEntityType": "PerfTestEntity",
                "Configuration": "{\"layout\":[{\"component\":\"PerfTest Gauge\",\"x\":0,\"y\":0},{\"component\":\"Status Indicator\",\"x\":1,\"y\":0},{\"component\":\"Hierarchy Label\",\"x\":0,\"y\":1}],\"bindings\":[{\"component\":\"PerfTest Gauge\",\"property\":\"value\",\"expression\":\"TestValue\"},{\"component\":\"Status Indicator\",\"property\":\"status\",\"expression\":\"TestFlag\"},{\"component\":\"Hierarchy Label\",\"property\":\"text\",\"expression\":\"Parent->Parent->Name\"}]}",
                "Bindings": "[{\"component\":\"PerfTest Gauge\",\"property\":\"value\",\"expression\":\"TestValue\"},{\"component\":\"Status Indicator\",\"property\":\"status\",\"expression\":\"TestFlag\"},{\"component\":\"Hierarchy Label\",\"property\":\"text\",\"expression\":\"Parent->Parent->Name\"}]",
                "Components": [
                  "QOS/Faceplate Builder/Component Library/PerfTest Gauge",
                  "QOS/Faceplate Builder/Component Library/Status Indicator",
                  "QOS/Faceplate Builder/Component Library/Hierarchy Label"
                ],
                "NotificationChannels": "[{\"fields\":[\"TestValue\",\"TestFlag\",\"Parent\",\"Parent->Parent->Name\"]}]"
              }
            ]
          }
        ]
      }
    ]
  }
}
